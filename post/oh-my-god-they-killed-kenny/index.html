<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>Oh my God, they killed Kenny! - lavafroth</title><meta name=description content='Introduction
Despite its infamy for profanity and dark, satiric humor, I&rsquo;ve been a huge fan of South Park over the years. I&rsquo;d like you to try out a random episode of South Park.
Before you walk away saying, &ldquo;Screw you guys, I&rsquo;m going home&rdquo;, I&rsquo;ll be sharing a little trick to watch a random episode without even launching the browser.
Prerequisites:

Nushell
mpv
youtube-dl or yt-dlp

Gone scripting
South Park&rsquo;s official website has a route called random-episode which redirects us to, well, a random episode.
The redirection, however, is done using javascript instead of regular HTTP status codes like 302.
This meant, one couldn&rsquo;t simply run the following and expect to see a video.'><meta name=author content><link rel="preload stylesheet" as=style href=https://lavafroth.is-a.dev/app.min.css><link rel="preload stylesheet" href=../../header.svg><noscript><link rel="preload stylesheet" as=style href=https://lavafroth.is-a.dev/noscript.min.css></noscript><link rel=preload as=font href=https://lavafroth.is-a.dev/LeagueGothic.ttf><link as=font href=https://lavafroth.is-a.dev/latinmodern-math.otf><link rel=preload as=image href=https://lavafroth.is-a.dev/github.svg><link rel=preload as=image href=https://lavafroth.is-a.dev/about.svg><link rel=preload as=image href=https://lavafroth.is-a.dev/art.svg><link rel=icon href=https://lavafroth.is-a.dev/favicon.png><link rel=blog-icon href=https://lavafroth.is-a.dev/icon.png></head><body class=not-ready data-menu=true><header class=header><h1><a class=site-name href=https://lavafroth.is-a.dev/>lavafroth</a></h1><svg id="btnDark" class="btn-dark" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 60 60" preserveAspectRatio="xMinYMin meet"><path class="circle" d="M30 16c7.73.0 14 6.27 14 14 0 3.81-1.53 7.27-4 9.8-2.54 2.59-6.08 4.2-10 4.2-7.73.0-14-6.27-14-14 0-7.73 6.27-14 14-14z"/><g class="rays" data-svg-origin="30 30"><line class="line" x1="30" y1="11" x2="30" y2="7"/><line class="line" x1="43.44" y1="16.57" x2="46.26" y2="13.74"/><line class="line" x1="49" y1="30" x2="53" y2="30"/><line class="line" x1="43.43" y1="43.44" x2="46.26" y2="46.26"/><line class="line" x1="30" y1="49" x2="30" y2="53"/><line class="line" x1="16.56" y1="43.43" x2="13.74" y2="46.26"/><line class="line" x1="11" y1="30" x2="7" y2="30"/><line class="line" x1="16.57" y1="16.56" x2="13.74" y2="13.74"/></g></svg><div class=space></div><a style=--url:url(./github.svg) href=https://github.com/lavafroth aria-label=github target=_blank></a><a href=../../about/ aria-label=about style=--url:url(./about.svg)></a><a href=../../art/ aria-label=art style=--url:url(./art.svg)></a><script>const bodyClx=document.body.classList,sysDark=window.matchMedia("(prefers-color-scheme: dark)"),darkVal=localStorage.getItem("dark"),setDark=e=>(bodyClx.toggle("dark",e),localStorage.setItem("dark",e));setDark(darkVal?darkVal==="true":sysDark.matches),requestAnimationFrame(()=>bodyClx.remove("not-ready")),btnDark.addEventListener("click",()=>setDark(!bodyClx.contains("dark"))),sysDark.addEventListener("change",({matches:e})=>setDark(e))</script></header><main class=main><article class=post-single><header class=post-title><p><time>Aug 2, 2022 | 2 minutes read</time></p><h1 data-pagefind-meta=title>Oh my God, they killed Kenny!</h1></header><section class=post-content data-pagefind-body><h1 id=introduction>Introduction</h1><p>Despite its infamy for profanity and dark, satiric humor, I&rsquo;ve been a huge fan of South Park over the years. I&rsquo;d like you to try out a random episode of <a href=https://www.southparkstudios.com>South Park</a>.
Before you walk away saying, <a href="https://www.youtube.com/watch?v=RXS1sJm7QEA">&ldquo;Screw you guys, I&rsquo;m going home&rdquo;</a>, I&rsquo;ll be sharing a little trick to watch a random episode without even launching the browser.</p><h3 id=prerequisites>Prerequisites:</h3><ul><li><a href=https://www.nushell.sh>Nushell</a></li><li><a href=https://mpv.io>mpv</a></li><li><code>youtube-dl</code> or <a href=https://github.com/yt-dlp/yt-dlp>yt-dlp</a></li></ul><h1 id=gone-scripting>Gone scripting</h1><p>South Park&rsquo;s official website has a route called <code>random-episode</code> which redirects us to, well, a random episode.
The redirection, however, is done using javascript instead of regular HTTP status codes like 302.
This meant, one couldn&rsquo;t simply run the following and expect to see a video.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>mpv https://southparkstudios.com/random-episode
</span></span></code></pre></div><p>Let&rsquo;s try being a little creative to see what the page returns.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>http get https://southparkstudios.com/random-episode
</span></span></code></pre></div><p>Along the response lines, we can observe javascript assigning to <code>window.__DATA__</code> that contains paths to many random episodes.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>window.<span style=color:#a6e22e>__DATA__</span> <span style=color:#f92672>=</span> {<span style=color:#e6db74>&#34;type&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;Page&#34;</span>,<span style=color:#e6db74>&#34;props&#34;</span><span style=color:#f92672>:</span>{<span style=color:#e6db74>&#34;bentoURL&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;https:\u002F\u002Fbtg.mtvnservices.com\u002Faria\u002Fbentojs.js?site=webplex-southpark-intl&amp;v=3.2.0&#34;</span>,<span style=color:#e6db74>&#34;edenData&#34;</span><span style=color:#f92672>:</span><span style=color:#66d9ef>null</span>,<span style=color:#e6db74>&#34;imageConfig&#34;</span><span style=color:#f92672>:</span><span style=color:#66d9ef>null</span>,<span style=color:#e6db74>&#34;authSuiteConfig&#34;</span><span style=color:#f92672>:</span>{<span style=color:#e6db74>&#34;authSuiteEnv&#34;</span><span style=color:#f92672>:</span>{<span style=color:#e6db74>&#34;adobeUrl&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;https:\u002F\u002Fapi.auth.adobe.com&#34;</span>,<span style=color:#e6db74>&#34;authSuiteUrl&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;https:\u002F\u002Fauth.mtvnservices.com&#34;</span>,<span style=color:#e6db74>&#34;isisUrl&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;https:\u002F\u002Fmusicjsonpath-a.akamaihd.net&#34;</span>,<span style=color:#e6db74>&#34;tveUrl&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;https:\u002F\u002Ftve.mtvnservices.com&#34;</span>,<span style=color:#e6db74>&#34;xboxUrl&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;https:\u002F\u002Fxbox.mtvnservices.com&#34;</span>}},<span style=color:#e6db74>&#34;featureFlags&#34;</span><span style=color:#f92672>:</span>{<span style=color:#e6db74>&#34;test1&#34;</span><span style=color:#f92672>:</span><span style=color:#66d9ef>true</span>,<span style=color:#e6db74>&#34;test2&#34;</span><span style=color:#f92672>:</span><span style=color:#66d9ef>true</span>,<span style=color:#e6db74>&#34;isContinueWatchingEnabled&#34;</span><span style=color:#f92672>:</span><span style=color:#66d9ef>true</span>,<span style=color:#e6db74>&#34;isPublicShowPagesEnabled&#34;</span><span style=color:#f92672>:</span><span style=color:#66d9ef>true</span>,<span style=color:#e6db74>&#34;isCompositeUserSelectionEnabled&#34;</span><span style=color:#f92672>:</span><span style=color:#66d9ef>true</span>,<span style=color:#e6db74>&#34;isUserWatchlistEnabled&#34;</span><span style=color:#f92672>:</span><span style=color:#66d9ef>true</span>},<span style=color:#e6db74>&#34;edenConfig&#34;</span><span style=color:#f92672>:</span><span style=color:#66d9ef>null</span>,<span style=color:#e6db74>&#34;helmet&#34;</span><span style=color:#f92672>:</span>{<span style=color:#e6db74>&#34;helmet&#34;</span><span style=color:#f92672>:</span>{<span style=color:#e6db74>&#34;base&#34;</span><span style=color:#f92672>:</span>{},<span style=color:#e6db74>&#34;bodyAttributes&#34;</span><span style=color:#f92672>:</span>{},<span style=color:#e6db74>&#34;htmlAttributes&#34;</span><span style=color:#f92672>:</span>{},<span style=color:#e6db74>&#34;link&#34;</span><span style=color:#f92672>:</span>{},<span style=color:#e6db74>&#34;meta&#34;</span><span style=color:#f92672>:</span>{},<span style=color:#e6db74>&#34;noscript&#34;</span><span style=color:#f92672>:</span>{},<span style=color:#e6db74>&#34;script&#34;</span><span style=color:#f92672>:</span>{},<span style=color:#e6db74>&#34;style&#34;</span><span style=color:#f92672>:</span>{},<span style=color:#e6db74>&#34;title&#34;</span><span style=color:#f92672>:</span>{}}}},<span style=color:#e6db74>&#34;children&#34;</span><span style=color:#f92672>:</span>[{<span style=color:#e6db74>&#34;type&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;MainContainer&#34;</span>,<span style=color:#e6db74>&#34;children&#34;</span><span style=color:#f92672>:</span>[{<span style=color:#e6db74>&#34;type&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;RandomEpisodeQueue&#34;</span>,<span style=color:#e6db74>&#34;props&#34;</span><span style=color:#f92672>:</span>{<span style=color:#e6db74>&#34;items&#34;</span><span style=color:#f92672>:</span>{<span style=color:#e6db74>&#34;items&#34;</span><span style=color:#f92672>:</span>[{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;1nq9xv&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002F1nq9xv\u002Fsouth-park-broadway-bro-down-season-15-ep-11&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;rxb67x&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002Frxb67x\u002Fsouth-park-the-entity-season-5-ep-11&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;u1yv8w&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002Fu1yv8w\u002Fsouth-park-canada-on-strike-season-12-ep-4&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;2b4m4s&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002F2b4m4s\u002Fsouth-park-ass-burgers-season-15-ep-8&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;uvp08l&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002Fuvp08l\u002Fsouth-park-ginger-kids-season-9-ep-11&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;aba4sz&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002Faba4sz\u002Fsouth-park-freak-strike-season-6-ep-3&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;hmaufp&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002Fhmaufp\u002Fsouth-park-poor-and-stupid-season-14-ep-8&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;u9u3rq&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002Fu9u3rq\u002Fsouth-park-butt-out-season-7-ep-13&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;97d61n&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002F97d61n\u002Fsouth-park-succubus-season-3-ep-3&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;oki0th&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002Foki0th\u002Fsouth-park-pinewood-derby-season-13-ep-6&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;z31od5&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002Fz31od5\u002Fsouth-park-preschool-season-8-ep-10&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;81p0af&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002F81p0af\u002Fsouth-park-dances-with-smurfs-season-13-ep-13&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;qly8oc&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002Fqly8oc\u002Fsouth-park-a-ladder-to-heaven-season-6-ep-12&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;5fuujn&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002F5fuujn\u002Fsouth-park-trapper-keeper-season-4-ep-12&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;me0b40&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002Fme0b40\u002Fsouth-park-casa-bonita-season-7-ep-11&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;avmdp8&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002Favmdp8\u002Fsouth-park-coon-vs-coon-friends-season-14-ep-13&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;327ba3&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002F327ba3\u002Fsouth-park-eek-a-penis-season-12-ep-5&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;xenush&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002Fxenush\u002Fsouth-park-pee-season-13-ep-14&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;scexjh&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002Fscexjh\u002Fsouth-park-starvin-marvin-season-1-ep-8&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;9do3gw&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002F9do3gw\u002Fsouth-park-margaritaville-season-13-ep-3&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;n9jsjf&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002Fn9jsjf\u002Fsouth-park-tonsil-trouble-season-12-ep-1&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;44i3y3&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002F44i3y3\u002Fsouth-park-tom-s-rhinoplasty-season-1-ep-11&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;1jbnuo&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002F1jbnuo\u002Fsouth-park-lil-crime-stoppers-season-7-ep-6&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;dumjvr&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002Fdumjvr\u002Fsouth-park-cartman-s-mom-is-a-dirty-slut-season-1-ep-13&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;ex6roo&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002Fex6roo\u002Fsouth-park-a-history-channel-thanksgiving-season-15-ep-13&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;06brb8&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002F06brb8\u002Fsouth-park-probably-season-4-ep-10&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;t746u2&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002Ft746u2\u002Fsouth-park-proper-condom-use-season-5-ep-7&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;d7grkc&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002Fd7grkc\u002Fsouth-park-the-passion-of-the-jew-season-8-ep-3&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;7efemk&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002F7efemk\u002Fsouth-park-tweek-vs-craig-season-3-ep-5&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;akix98&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002Fakix98\u002Fsouth-park-pandemic-2-the-startling-season-12-ep-11&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;x5mqiz&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002Fx5mqiz\u002Fsouth-park-medicinal-fried-chicken-season-14-ep-3&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;ppnf3g&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002Fppnf3g\u002Fsouth-park-truth-and-advertising-season-19-ep-9&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;iyw8ps&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002Fiyw8ps\u002Fsouth-park-cartman-finds-love-season-16-ep-7&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;y3uvvc&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002Fy3uvvc\u002Fsouth-park-grounded-vindaloop-season-18-ep-7&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;38exov&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002F38exov\u002Fsouth-park-the-problem-with-a-poo-season-22-ep-3&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;c5x1x5&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002Fc5x1x5\u002Fsouth-park-the-scoots-season-22-ep-5&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;xj9ctz&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002Fxj9ctz\u002Fsouth-park-buddha-box-season-22-ep-8&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;hjfzgc&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002Fhjfzgc\u002Fsouth-park-a-boy-and-a-priest-season-22-ep-2&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;5b6ld6&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002F5b6ld6\u002Fsouth-park-tegridy-farms-season-22-ep-4&#34;</span>},{<span style=color:#e6db74>&#34;shortId&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;ykf57h&#34;</span>,<span style=color:#e6db74>&#34;path&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;\u002Fepisodes\u002Fykf57h\u002Fsouth-park-dead-kids-season-22-ep-1&#34;</span>}],<span style=color:#e6db74>&#34;storageNamePrefix&#34;</span><span style=color:#f92672>:</span><span style=color:#e6db74>&#34;default&#34;</span>}}}]}]};
</span></span></code></pre></div><p>We can now grab the video&rsquo;s short identifier (<code>shortId</code>) and format the URL to the specific episode.
To do this, we can use Nu&rsquo;s <code>parse</code> command which allows regular expression matches.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>http get https://southpark.cc.com/random-episode | parse -r <span style=color:#e6db74>&#39;&#34;shortId&#34;:&#34;(.+?)&#34;&#39;</span> | first <span style=color:#ae81ff>5</span> 
</span></span></code></pre></div><p>This gives us the following table:</p><table><thead><tr><th><em>#</em></th><th>capture0</th></tr></thead><tbody><tr><td>0</td><td>dfdwfl</td></tr><tr><td>1</td><td>oq0xia</td></tr><tr><td>2</td><td>2bf9a5</td></tr><tr><td>3</td><td>jy5lbq</td></tr><tr><td>4</td><td>4sa1hk</td></tr></tbody></table><p>Since these are random episodes, we can do away with picking the first captured ID.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#f92672>(</span>http get https://southpark.cc.com/random-episode | parse -r <span style=color:#e6db74>&#39;&#34;shortId&#34;:&#34;(.+?)&#34;&#39;</span><span style=color:#f92672>)</span>.capture0.0 
</span></span></code></pre></div><pre tabindex=0><code>wpmnpk
</code></pre><p>All we are left with now is to append this to the episodes URL path and pass it to <code>mpv</code>.
We will use the <code>$"string"</code> syntax to interpolate the short ID into the URL.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>mpv <span style=color:#e6db74>$&#34;https://southpark.cc.com/episodes/((http get https://southpark.cc.com/random-episode | parse -r &#39;&#34;</span>shortId<span style=color:#e6db74>&#34;:&#34;</span><span style=color:#f92672>(</span>.+?<span style=color:#f92672>)</span><span style=color:#e6db74>&#34;&#39;).capture0.0)&#34;</span>
</span></span></code></pre></div></section></article><footer class=post-tags data-pagefind-meta=tags><a href=https://lavafroth.is-a.dev/tags/nushell class=list-tag>Nushell</a>
<a href=https://lavafroth.is-a.dev/tags/south-park class=list-tag>South Park</a>
<a href=https://lavafroth.is-a.dev/tags/streaming class=list-tag>Streaming</a>
<a href=https://lavafroth.is-a.dev/tags/web-parsing class=list-tag>Web Parsing</a></footer><nav class=post-nav><a class=prev href=https://lavafroth.is-a.dev/post/r0-hash-me-please/><span>←</span><span>Hash Me Please</span></a>
<a class=next href=https://lavafroth.is-a.dev/post/ringzer0ctf-bash-jail3/><span>Bash Jail 3</span><span>→</span></a></nav></main><footer class=footer><p>&copy; 2025 <a href=https://lavafroth.is-a.dev/>lavafroth</a></p><p><a href=https://github.com/lavafroth/lavafroth.github.io/issues/new/choose>Report an issue</a></p><p><a href=https://github.com/lavafroth/lavafroth.github.io/discussions/>Discuss</a></p><p><a href=https://lavafroth.is-a.dev/privacy>Privacy</a></p><p><a href=https://creativecommons.org/licenses/by-sa/4.0/legalcode>License</a></p></footer></body></html>