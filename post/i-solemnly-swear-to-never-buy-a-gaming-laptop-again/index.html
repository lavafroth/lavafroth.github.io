<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>I Solemnly Swear to Never Buy a Gaming Laptop Again - lavafroth</title><meta name=description content='Around half a decade ago, I bought an Asus gaming laptop, one I&rsquo;m currently using to write this article.
Although it came preinstalled with Windows, I never let it even boot and instead opted for linux. Bill Gates can cry a river.
Despite switching distros multiple times, one sporadical issue my setup suffered from
was the wireless card dying after a few minutes of booting the box. The only solution to this was to reboot my computer, classic!'><meta name=author content><link rel="preload stylesheet" as=style href=https://lavafroth.is-a.dev/app.min.css><link rel=preload as=image href=../../header.svg><link as=font href=https://lavafroth.is-a.dev/latinmodern-math.otf><link rel=preload as=image href=https://lavafroth.is-a.dev/github.svg><link rel=preload as=image href=https://lavafroth.is-a.dev/about.svg><link rel=preload as=image href=https://lavafroth.is-a.dev/art.svg><link rel=preload as=image href=https://lavafroth.is-a.dev/rss.svg><link rel=icon href=https://lavafroth.is-a.dev/favicon.png><link rel=blog-icon href=https://lavafroth.is-a.dev/icon.png></head><body><header><a class=site-name href=https://lavafroth.is-a.dev/><svg viewBox="0 0 8790 2080"><path d="M80 1935V465h216v1270h286v2e2zm853 0 222-1470h264l222 1470h-210l-40-3e2h-208l-40 3e2zm280-528h148l-62-494-6-78h-12l-6 78zm1025 528L2014 465h210l108 868 8 142h12l8-142 108-868h210l-224 1470zm813 0 222-1470h264l222 1470h-210l-40-3e2h-208l-40 3e2zm280-528h148l-62-494-6-78h-12l-6 78zm851 528V465h514v222h-298v386h2e2v222h-2e2v640zm910 0V465h216q194 0 286 108 92 107 92 316 0 124-43 215-44 90-106 132l147 699h-216l-122-620h-38v620zm216-820q60 0 95-26 35-27 50-76t15-116q0-105-34-161-35-57-126-57zm1084 836q-90 0-154-42-65-42-99-114-35-72-35-162V767q0-91 35-162 34-72 99-114 64-42 154-42t155 42q64 42 99 114 34 72 34 162v866q0 90-34 162-35 72-99 114-65 42-155 42zm0-210q40 0 56-33 16-34 16-75V767q0-41-17-74-17-34-55-34-37 0-54 34-18 33-18 74v866q0 41 17 75 17 33 55 33zm890 194V687h-204V465h624v222h-204v1248zm828 0V465h216v608h168V465h216v1470h-216v-640h-168v640z"/></svg></a><nav><a style=--url:url(./github.svg) href=https://github.com/lavafroth aria-label=github target=_blank></a><a href=../../about/ aria-label=about style=--url:url(./about.svg)></a><a href=../../art/ aria-label=art style=--url:url(./art.svg)></a><a href=../../index.xml aria-label=rss style=--url:url(./rss.svg)></a><nav></header><main><hgroup data-pagefind-body><p data-pagefind-ignore><time>Jun 7, 2024 | 5 minutes read</time></p><h1 data-pagefind-meta=title>I Solemnly Swear to Never Buy a Gaming Laptop Again</h1></hgroup><section class=post-content data-pagefind-body><p>Around half a decade ago, I bought an Asus gaming laptop, one I&rsquo;m currently using to write this article.
Although it came preinstalled with Windows, I never let it even boot and instead opted for linux. Bill Gates can cry a river.</p><p>Despite switching distros multiple times, one sporadical issue my setup suffered from
was the wireless card dying after a few minutes of booting the box. The only solution to this was to reboot my computer, classic!</p><p><img src=../../cry.gif alt="A dramatic re-enactment of the WiFi card dying"></p><p>The wireless card in question was a Realtek card (of course it has to be those clowns) handled by the <code>rtw88_8822ce</code> kernel module
under the <code>rtw88_pci</code> namespace. Scouring through online forums, I discovered that these clowns were so clever, they
engineered their WiFi cards to enter low power or sleep mode when it thinks the card is not in use. Some forums stated that this behavior
could be disabled by changing the kernel parameters. To do this, I needed to look for available kernel parameters using the
<code>modinfo</code> command. Finding the name of the kernel module in question can be a hit or miss. I found reading the description of the modules
from the <code>lsmod</code> command to be reliable.</p><p>After finding out the module, <code>rtw88_pci</code> in my case, you can run <code>modinfo</code> to learn the details of the kernel parameters.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>modinfo rtw88_pci
</span></span></code></pre></div><pre tabindex=0><code>filename:       /run/booted-system/kernel-modules/lib/modules/6.6.32/kernel/drivers/net/wireless/realtek/rtw88/rtw88_pci.ko.xz
license:        Dual BSD/GPL
description:    Realtek PCI 802.11ac wireless driver
author:         Realtek Corporation
depends:        rtw88_core,mac80211
retpoline:      Y
intree:         Y
name:           rtw88_pci
vermagic:       6.6.32 SMP preempt mod_unload 
parm:           disable_msi:Set Y to disable MSI interrupt support (bool)
parm:           disable_aspm:Set Y to disable PCI ASPM support (bool)
</code></pre><p>Here, the <code>disable_msi</code> parameter can be used to disable <a href=https://learn.microsoft.com/en-us/windows-hardware/drivers/kernel/introduction-to-message-signaled-interrupts>MSI</a>, which is a PCI message signaled interrupt system alternative to line
based interrupts. The <code>disable_aspm</code> similarly disables ASPM (Active State Power Management) which <em>&ldquo;saves power&rdquo;</em> when my system is <em>&ldquo;idle&rdquo;</em>.
Gee thanks, I hate it.</p><p>The network card deaths became more sporadic after setting <code>disable_aspm</code> to <code>Y</code> but they were not completely eliminated. Another bonus is my
computer straight up lagging when these devices die. Why? Because this:</p><blockquote><p>While ASPM brings a reduction in power consumption, it can also result in increased latency as the serial bus needs to be &lsquo;woken up&rsquo; from low-power mode, possibly reconfigured and the host-to-device link re-established. This is known as ASPM exit latency and takes up valuable time which can be annoying to the end user if it is too obvious when it occurs.</p><p>- Wikipedia</p></blockquote><p>How could I confirm this? Take a look at the output of the <code>dmesg</code> command:</p><pre tabindex=0><code>[  392.656276] rtw_8822ce 0000:04:00.0: failed to poll offset=0x5 mask=0x2 value=0x0
[  392.656312] rtw_8822ce 0000:04:00.0: mac power on failed
[  392.656317] rtw_8822ce 0000:04:00.0: failed to power on mac
[  394.755267] rtw_8822ce 0000:04:00.0: failed to poll offset=0x5 mask=0x2 value=0x0
[  394.755330] rtw_8822ce 0000:04:00.0: mac power on failed
[  394.755348] rtw_8822ce 0000:04:00.0: failed to power on mac
</code></pre><p>The driver is <code>rtw88_8822ce</code> and the logs say that there was a failure in
powering the card on. In the end, I just bought an external USB 2.0 network card
and blacklisted the kernel modules for the builtin card in my NixOS config.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix><span style=display:flex><span>boot<span style=color:#f92672>.</span>blacklistedKernelModules <span style=color:#f92672>=</span> [ <span style=color:#e6db74>&#34;rtw88_8822ce&#34;</span> ];
</span></span></code></pre></div><p>Another related problem was the WiFi strength itself. With the honking GTX 1650
of a GPU shoehorned into a small form factor, the electromagnetic induction
caused by the GPU also deteriorated the signal strength. I mean, what was I
thinking back when I bought this? I knew I was going to use Linux because I
distinctly remember my previous Arch + i3wm. The reason behind a gaming laptop
was not to play games, Linux did not have great tooling for gaming then. No, I
needed the beefy GPU to mine coins.</p><p>Speaking of the GPU, I severly underestimated how heavy it would make the box. If not for the shape of the laptop, I could easily use
it for weights during workouts.</p><p>Lastly, the battery life for gaming laptops suck in general. This is why I&rsquo;m sticking to lightweight environments for now: window managers like i3 and sway or desktop environments like
XFCE, Cosmic Epoch and KDE. KDE by far is the least resource intensive for the features it provides out of the box. I use it with the vanilla settings apart from the left sidebar.
It is quite the bang for the buck, considering most of you will donate to the devs anyways.</p><p><img src=../../kde-setup.png alt="A screenshot of my current KDE setup"></p><p>In conclusion, I don&rsquo;t recommend gaming laptops to developers and leet haxxors. You don&rsquo;t need that GPU horsepower.
The clowns at Realtek produce such hot garbage that I wish their stocks plummet.
Instead, try out the newer ARM devices. They are power efficient and performant. If I have to migrate to a different setup, I&rsquo;d
probably choose laptops from Framework or System76. Both of these companies make their hardware repairable,
respect user freedom and support Linux out of the box. I&rsquo;m looking for a setup that would last another decade, <a href=https://en.wikipedia.org/wiki/Ship_of_Theseus>ship of Theseus</a> style.
<strong>This is not a sponsored article</strong>, all stated opinions are mine and mine alone. I did not get paid to endorse Framework
or System76. I just like what they are doing and I recommend saving up a bit to buy one of their builds.</p></section><footer class=post-tags data-pagefind-meta=tags><a href=https://lavafroth.is-a.dev/tags/workflow class=list-tag>Workflow</a>
<a href=https://lavafroth.is-a.dev/tags/rant class=list-tag>Rant</a>
<a href=https://lavafroth.is-a.dev/tags/linux class=list-tag>Linux</a>
<a href=https://lavafroth.is-a.dev/tags/laptops class=list-tag>Laptops</a>
<a href=https://lavafroth.is-a.dev/tags/kernel-modules class=list-tag>Kernel Modules</a></footer><nav data-post><a href=https://lavafroth.is-a.dev/post/modes-unbinds-and-other-ensembled-parser-patterns/><span>←</span><span>Modes, Unbinds and Other Ensembled Parser Patterns</span></a>
<a href=https://lavafroth.is-a.dev/post/modeling-more-realistic-keybinds-with-modifiers/><span>Modeling More Realistic Keybinds With Modifiers</span><span>→</span></a></nav></main><footer class=footer><p>&copy; 2025 <a href=https://lavafroth.is-a.dev/>lavafroth</a></p><p><a href=https://github.com/lavafroth/lavafroth.github.io/issues/new/choose>Report an issue</a></p><p><a href=https://github.com/lavafroth/lavafroth.github.io/discussions/>Discuss</a></p><p><a href=https://lavafroth.is-a.dev/privacy>Privacy</a></p><p><a href=https://creativecommons.org/licenses/by-sa/4.0/legalcode>License</a></p></footer></body></html>