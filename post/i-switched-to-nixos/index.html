<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>I Switched to NixOS - lavafroth</title><meta name=description content='Hi. It&rsquo;s been quite a while since I had last posted. I had been spending my time on some programming projects that withheld me from even participating in CTFs.
Tired of this workflow that I somehow spiraled into, I&rsquo;m now seeking to learn new things in an attempt to break out of this workflow.
The End of an Overarching Journey
As any of my long time audience might be familiar with, I daily drove Arch Linux. A very flexible distribution, Arch allows beginners to get a good grasp of the
Linux way of doing things. It has an amazing package manager as well as a user repository for extra software unavailable in the official repositories. It&rsquo;s rather
easy to setup Arch for gaming, thanks to programs like Lutris and Bottles.'><meta name=author content><link rel="preload stylesheet" as=style href=https://lavafroth.is-a.dev/app.min.css><link rel=preload as=image href=../../header.svg><link as=font href=https://lavafroth.is-a.dev/latinmodern-math.otf><link rel=preload as=image href=https://lavafroth.is-a.dev/github.svg><link rel=preload as=image href=https://lavafroth.is-a.dev/about.svg><link rel=preload as=image href=https://lavafroth.is-a.dev/art.svg><link rel=preload as=image href=https://lavafroth.is-a.dev/rss.svg><link rel=icon href=https://lavafroth.is-a.dev/favicon.png><link rel=blog-icon href=https://lavafroth.is-a.dev/icon.png></head><body><header><a class=site-name href=https://lavafroth.is-a.dev/><svg viewBox="0 0 8790 2080"><path d="M80 1935V465h216v1270h286v2e2zm853 0 222-1470h264l222 1470h-210l-40-3e2h-208l-40 3e2zm280-528h148l-62-494-6-78h-12l-6 78zm1025 528L2014 465h210l108 868 8 142h12l8-142 108-868h210l-224 1470zm813 0 222-1470h264l222 1470h-210l-40-3e2h-208l-40 3e2zm280-528h148l-62-494-6-78h-12l-6 78zm851 528V465h514v222h-298v386h2e2v222h-2e2v640zm910 0V465h216q194 0 286 108 92 107 92 316 0 124-43 215-44 90-106 132l147 699h-216l-122-620h-38v620zm216-820q60 0 95-26 35-27 50-76t15-116q0-105-34-161-35-57-126-57zm1084 836q-90 0-154-42-65-42-99-114-35-72-35-162V767q0-91 35-162 34-72 99-114 64-42 154-42t155 42q64 42 99 114 34 72 34 162v866q0 90-34 162-35 72-99 114-65 42-155 42zm0-210q40 0 56-33 16-34 16-75V767q0-41-17-74-17-34-55-34-37 0-54 34-18 33-18 74v866q0 41 17 75 17 33 55 33zm890 194V687h-204V465h624v222h-204v1248zm828 0V465h216v608h168V465h216v1470h-216v-640h-168v640z"/></svg></a><nav><a style=--url:url(./github.svg) href=https://github.com/lavafroth aria-label=github target=_blank></a><a href=../../about/ aria-label=about style=--url:url(./about.svg)></a><a href=../../art/ aria-label=art style=--url:url(./art.svg)></a><a href=../../index.xml aria-label=rss style=--url:url(./rss.svg)></a><nav></header><main><hgroup data-pagefind-body><p data-pagefind-ignore><time>Jul 8, 2023 | 4 minutes read</time></p><h1 data-pagefind-meta=title>I Switched to NixOS</h1></hgroup><section class=post-content data-pagefind-body><p>Hi. It&rsquo;s been quite a while since I had last posted. I had been spending my time on some programming projects that withheld me from even participating in CTFs.
Tired of this workflow that I somehow spiraled into, I&rsquo;m now seeking to learn new things in an attempt to break out of this workflow.</p><h1 id=the-end-of-an-overarching-journey>The End of an Overarching Journey</h1><p>As any of my long time audience might be familiar with, I daily drove <a href=https://archlinux.org>Arch Linux</a>. A very flexible distribution, Arch allows beginners to get a good grasp of the
Linux way of doing things. It has an amazing package manager as well as <a href=https://aur.archlinux.org>a user repository</a> for extra software unavailable in the official repositories. It&rsquo;s rather
easy to setup Arch for gaming, thanks to programs like <a href=https://lutris.net/>Lutris</a> and <a href=https://usebottles.com/>Bottles</a>.</p><p>The terminal user interface <a href=https://github.com/archlinux/archinstall>installer</a> shipped by default has come a long way since its inception and I&rsquo;m certain that it has made Arch way more beginner friendly than how it was five years ago.
Albeit, this claim is slightly biased since I&rsquo;ve been a contributor to the installer for some time now.</p><p>I felt that Arch was the endgame. Clearly, it had all the tooling I needed to have a streamlined workflow except for a few hiccups here and there.</p><p>That all changed now, I ditched Arch for NixOS.</p><h1 id=justifications-for-switching-to-nixos>Justifications for switching to NixOS</h1><p>Let&rsquo;s talk about the hiccups I faced when using Arch Linux.</p><h2 id=atomic-updates>Atomic Updates</h2><p>There were some instances following an update to my system where I&rsquo;d encounter the strangest of problems that even Stack Overflow had no answers to.
I now had an answer, not to the problems individually but to what might have caused them. Unsuccessful updates. A plethora of circumstances including
power outages, batteries dying, unstable network connections and conversely corrupted package downloads would cause some packages to get overwritten
midway through the extraction process resulting in all the aforementioned problems.</p><p>In NixOS, all the packages of an update are extracted onto a separate layer from the current working system. The new layer is only available for use
when the entirety of the update has been transacted. This implies, any of the ill circumstances I talked about would completely cancel the transaction
and the new layer would be unavailable for use. This is what is referred to as atomic updates. The update either happens completely, or it does not
happen at all. There is no in-between.</p><h2 id=generations>Generations</h2><p>The atomicity does not stop at the updates. Whenever we install one or more packages in NixOS, those changes are built on a different layer. These
layers are termed generations. The idea is that if a package causes the system to break because of some software bug, the user can revert to an
older generation that functioned as inteneded. The entire operating system runs an immutable base so that the user cannot accidentally modify a
system binary and shoot themselves in the foot.</p><h2 id=configurationnix><code>configuration.nix</code></h2><p>The final piece to the puzzle was reporducibility. Every time I reinstalled Arch due to one of the described problems, it would be extremely difficult
to recall all the extra tools I installed on the previous iterations. The results being a minimal install that amassed baggage every time I realized
in frustration that the tool I needed at the moment was not installed.</p><p>NixOS runs the Nix package manager. The entire system can be defined using a single file known as <code>configuration.nix</code>. This file is written in a declarative,
functional, lazily evaluated programming language aptly called <code>nix</code>. The options in the configuration file vary from bootloader options, networking and users
to edge case situations like installing Nvidia drivers or replacing <code>sudo</code> with <code>doas</code>. This config file can be separated into multiple files if deemed necessary.</p><p>Deploying these configuration on any computer that can run NixOS would result in the same build every time. No more frustration in recalling packages
I would need for my workflow, it&rsquo;s all defined centrally inside <code>configuration.nix</code>.</p><h1 id=conclusion>Conclusion</h1><p>It has been around a week since I started using NixOS. Although I am in no way an expert in the <code>nix</code> language, I find it very intuitive to work with.
The whole learning experience as well as daily driving NixOS has been very enjoyable. I still think Arch is a great disto for beginners to undestand Linux but NixOS felt like the next logical step moving from Arch Linux.</p><p>If you find yourself inspired after reading this article, check out this article called <a href=https://borretti.me/article/nixos-for-the-impatient>NixOS for the impatient</a> as well the <a href=https://nixos.org/>official NixOS website</a>
to get started. Once you have a rough idea, you could check out <a href=https://github.com/lavafroth/dotfiles>my own NixOS configuration files</a>. Maybe you can incorporate a part of the config you find interesting into your own.</p><p>Happy Nixing!</p></section><footer class=post-tags data-pagefind-meta=tags><a href=https://lavafroth.is-a.dev/tags/meta class=list-tag>Meta</a>
<a href=https://lavafroth.is-a.dev/tags/workflow class=list-tag>Workflow</a>
<a href=https://lavafroth.is-a.dev/tags/nixos class=list-tag>NixOS</a></footer><nav data-post><a href=https://lavafroth.is-a.dev/post/wait-an-eternity-web-challenge-amateursctf-2023/><span>←</span><span>Waiting an Eternity</span></a>
<a href=https://lavafroth.is-a.dev/post/picoctf-binary-exploitation-twosum/><span>Twosum</span><span>→</span></a></nav></main><footer class=footer><p>&copy; 2025 <a href=https://lavafroth.is-a.dev/>lavafroth</a></p><p><a href=https://github.com/lavafroth/lavafroth.github.io/issues/new/choose>Report an issue</a></p><p><a href=https://github.com/lavafroth/lavafroth.github.io/discussions/>Discuss</a></p><p><a href=https://lavafroth.is-a.dev/privacy>Privacy</a></p><p><a href=https://creativecommons.org/licenses/by-sa/4.0/legalcode>License</a></p></footer></body></html>