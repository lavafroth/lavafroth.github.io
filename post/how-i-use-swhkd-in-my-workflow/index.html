<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>How I Use SWHKD in My Workflow - lavafroth</title><meta name=description content='SWHKD is the project that I have been working on for the past few months as a part of Google Summer of Code for this year.
Now that we are done with the development process, I want to talk about why I wanted to improve the project. Although
the easy answer is to get paid or to get a more production facing OSS development experience,
for me, the most important driving force is using it in my own workflow.'><meta name=author content><link rel="preload stylesheet" as=style href=https://lavafroth.is-a.dev/app.min.css><link rel=preload as=image href=../../header.svg><link as=font href=https://lavafroth.is-a.dev/latinmodern-math.otf><link rel=preload as=image href=https://lavafroth.is-a.dev/github.svg><link rel=preload as=image href=https://lavafroth.is-a.dev/about.svg><link rel=preload as=image href=https://lavafroth.is-a.dev/art.svg><link rel=icon href=https://lavafroth.is-a.dev/favicon.png><link rel=blog-icon href=https://lavafroth.is-a.dev/icon.png></head><body data-menu=true><header class=header><h1><a class=site-name href=https://lavafroth.is-a.dev/><svg viewBox="0 0 8790 2400"><path d="M80 1935V465h216v1270h286v2e2zm853 0 222-1470h264l222 1470h-210l-40-3e2h-208l-40 3e2zm280-528h148l-62-494-6-78h-12l-6 78zm1025 528L2014 465h210l108 868 8 142h12l8-142 108-868h210l-224 1470zm813 0 222-1470h264l222 1470h-210l-40-3e2h-208l-40 3e2zm280-528h148l-62-494-6-78h-12l-6 78zm851 528V465h514v222h-298v386h2e2v222h-2e2v640zm910 0V465h216q194 0 286 108 92 107 92 316 0 124-43 215-44 90-106 132l147 699h-216l-122-620h-38v620zm216-820q60 0 95-26 35-27 50-76t15-116q0-105-34-161-35-57-126-57zm1084 836q-90 0-154-42-65-42-99-114-35-72-35-162V767q0-91 35-162 34-72 99-114 64-42 154-42t155 42q64 42 99 114 34 72 34 162v866q0 90-34 162-35 72-99 114-65 42-155 42zm0-210q40 0 56-33 16-34 16-75V767q0-41-17-74-17-34-55-34-37 0-54 34-18 33-18 74v866q0 41 17 75 17 33 55 33zm890 194V687h-204V465h624v222h-204v1248zm828 0V465h216v608h168V465h216v1470h-216v-640h-168v640z"/></svg></a></h1><div class=push></div><a style=--url:url(./github.svg) href=https://github.com/lavafroth aria-label=github target=_blank></a><a href=../../about/ aria-label=about style=--url:url(./about.svg)></a><a href=../../art/ aria-label=art style=--url:url(./art.svg)></a></header><main class=main><article class=post-single><header class=post-title><p><time>Aug 1, 2024 | 4 minutes read</time></p><h1 data-pagefind-meta=title>How I Use SWHKD in My Workflow</h1></header><section class=post-content data-pagefind-body><p>SWHKD is the project that I have been working on for the past few months as a part of Google Summer of Code for this year.
Now that we are done with the development process, I want to talk about why I wanted to improve the project. Although
the easy answer is to get paid or to get a more production facing OSS development experience,
for me, the most important driving force is using it in my own workflow.</p><p>In hindsight, I should have talked about this earlier. You
see, I have been editing videos for my YouTube channel since March of this year. Granted, I take quite some time to churn out an entire video since
I am the only person in my <em>&ldquo;team&rdquo;</em>. Meaning, I have to perform all of the steps in the pipeline: the research, script, animations,
voiceover and video editing.</p><p>At some point, the frustration kicked in when I found myself doing the smallest of actions in my editor using
the cursor. While the cursor can be a nice tool in many cases, some actions like removing the space between two clips are better
suited for keyboard shortcuts. So that week, I learned the keybindings of my video editor, Kdenlive.</p><p>I also changed the keybindings for a lot of actions like snapping the playhead to the start or end of a clip as <code>a</code> and <code>d</code> respectively.
I borrowed quite a bit of the movement keybinds from gaming since, just like gaming, my left hand is on the left half of the keyboard
but the right hand is controlling the mouse pointer.</p><blockquote><p>Tip: Avoid shortcuts that require you to raise your hand. Raising your hands adds friction in the way of video editing.</p></blockquote><p>My biggest gripe is that till date, there is no way to record multiple operations and bind then to a keyboard shortcut.</p><h2 id=enter-swhkd>Enter SWHKD</h2><p>To make my workflow as fast as possible, I have an entire config to perform these recorded <em>&ldquo;macros&rdquo;</em> with at shortcuts involving at most two keys.</p><p>Take the example of a ripple cut which involves removing the part of the clip before the playhead &mldr;</p><p><img src=../../video-editing-workflow-0.avif alt></p><p>&mldr; and shift the rest of the clips back to where the original one started.</p><p><img src=../../video-editing-workflow-1.avif alt></p><p>With my current setup of Kdenlive, I have to perform 3 keypresses back to back to do this:</p><ul><li><code>r</code> to use the ripple tool</li><li><code>q</code> to make the cut and perform the shift</li><li><code>s</code> to go back to using the selection tool</li></ul><p>However, SWHKD combined with <code>ydotool</code> allows me to do this in a single (or two depending upon how you seen it) keypress of <code>Shift</code> <code>Q</code>.</p><p>Whenever I&rsquo;m editing a video, I&rsquo;ll launch a script that start <code>swhkd</code> with my Kdenlive config.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>swhks &amp;
</span></span><span style=display:flex><span>sudo sh -c <span style=color:#e6db74>&#34;(ydotoold -P 0622 &amp;);&#34;</span>
</span></span><span style=display:flex><span>pkexec swhkd --config $PWD/kdenlive.swhkd
</span></span></code></pre></div><p>The Kdenlive config defines a mode which I have to explicitly enter using <code>Super</code> <code>k</code> at the start of video editing so that at some point
of time, if I get derailed into research, I can exit the mode with the same keypress.</p><pre tabindex=0><code>mode kdenlive
    shift + q
        # 19, 16, 31 = r, q, s
        sleep 1 &amp;&amp; \
        YDOTOOL_SOCKET=/tmp/.ydotool_socket ydotool key 19:1 19:0 &amp;&amp; \ 
        YDOTOOL_SOCKET=/tmp/.ydotool_socket ydotool key 16:1 16:0 &amp;&amp; \
        YDOTOOL_SOCKET=/tmp/.ydotool_socket ydotool key 31:1 31:0
super + k
    notify-send &#34;exiting kdenlive mode&#34; &amp;&amp; @escape
endmode
</code></pre><p>Inside the mode, when I press <code>Shift</code> <code>Q</code>, the input event codes for the
respective keys are sent using <code>ydotool</code> and I get a pretty seamless experience.
Of course you can extend this to whatever actions you find yourself performing
most often while editing videos or any other task for that matter. To save you
the trouble of searching for the input codes like 19, 16 and 31 used here, check
out this <a href=https://elixir.bootlin.com/zephyr/v3.7.0/source/include/zephyr/dt-bindings/input/input-event-codes.h>kernel source file</a> which defines the input
event codes for keys and mouse buttons. Also, yes there is a small delay you should
keep before sending other keys because I have often found my input overlap with the
scripted keypresses.</p><p>Okay that&rsquo;s about it for now, hope you enjoyed this little sneak peek into how I&rsquo;m making
my videos. Bye!</p></section></article><footer class=post-tags data-pagefind-meta=tags><a href=https://lavafroth.is-a.dev/tags/swhkd class=list-tag>SWHKD</a>
<a href=https://lavafroth.is-a.dev/tags/waycrate class=list-tag>Waycrate</a>
<a href=https://lavafroth.is-a.dev/tags/wayland class=list-tag>Wayland</a>
<a href=https://lavafroth.is-a.dev/tags/google-summer-of-code class=list-tag>Google Summer of Code</a>
<a href=https://lavafroth.is-a.dev/tags/workflow class=list-tag>Workflow</a>
<a href=https://lavafroth.is-a.dev/tags/video-editing class=list-tag>Video Editing</a></footer><nav class=post-nav><a class=prev href=https://lavafroth.is-a.dev/post/cuda-on-nixos-without-sacrificing-ones-sanity/><span>←</span><span>Painlessly setting up ML tooling on NixOS</span></a>
<a class=next href=https://lavafroth.is-a.dev/post/polishing-and-bugfix-week/><span>Polishing and Bugfix Week</span><span>→</span></a></nav></main><footer class=footer><p>&copy; 2025 <a href=https://lavafroth.is-a.dev/>lavafroth</a></p><p><a href=https://github.com/lavafroth/lavafroth.github.io/issues/new/choose>Report an issue</a></p><p><a href=https://github.com/lavafroth/lavafroth.github.io/discussions/>Discuss</a></p><p><a href=https://lavafroth.is-a.dev/privacy>Privacy</a></p><p><a href=https://creativecommons.org/licenses/by-sa/4.0/legalcode>License</a></p></footer></body></html>