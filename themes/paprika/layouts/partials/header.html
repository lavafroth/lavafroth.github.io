<header class="header">
	<div class="coalesce">
		<h1>
			<a class="site-name" href="{{ `` | absURL }}">{{ site.Title }}</a>
		</h1>	
      <svg version="1.1" class="btn-dark" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 60 60" xml:space="preserve" preserveAspectRatio="xMinYMin meet">
			        <path class="circle" d="M30,16c7.73,0,14,6.27,14,14c0,3.81-1.53,7.27-4,9.8c-2.54,2.59-6.08,4.2-10,4.2c-7.73,0-14-6.27-14-14C16,22.27,22.27,16,30,16z"></path>
			        <g class="rays" data-svg-origin="30 30">
				        <line class="line" x1="30" y1="11" x2="30" y2="7"></line>
				        <line class="line" x1="43.44" y1="16.57" x2="46.26" y2="13.74" ></line>
				        <line class="line" x1="49" y1="30" x2="53" y2="30"></line>
				        <line class="line" x1="43.43" y1="43.44" x2="46.26" y2="46.26"></line>
				        <line class="line" x1="30" y1="49" x2="30" y2="53"></line>
				        <line class="line" x1="16.56" y1="43.43" x2="13.74" y2="46.26"></line>
				        <line class="line" x1="11" y1="30" x2="7" y2="30"></line>
				        <line class="line" x1="16.57" y1="16.56" x2="13.74" y2="13.74"></line>
	          </g>
      </svg>
		</div>
			<nav class="social">
			{{ range .Site.Params.socials }}
  			<a
    			class="{{ .platform }}"
    			style="--url: url(./{{ .platform }}.svg)"
    			href="{{ .url }}"
					aria-label="{{ .platform }}"
    			target="_blank"
  			></a>
  		{{ end }}
			{{ $page := . }}
  		{{ range .Site.Menus.main }}
  			<a
  			  {{ if in $page.RelPermalink .URL }}
  			    class="active"
  			  {{ end }}
  				href="{{ .URL }}"
  				aria-label="{{ .Name }}"
    			style="--url: url(./{{ .Name }}.svg)"
  			></a>
  		{{ end }}
			</nav>
		<script>
      const bodyClx = document.body.classList;
      const btnDark = document.querySelector('.btn-dark');
      const sysDark = window.matchMedia('(prefers-color-scheme: dark)');
      const darkVal = localStorage.getItem('dark');

      const setDark = isDark => (bodyClx.toggle('dark', isDark), localStorage.setItem('dark', isDark));

      setDark(darkVal ? darkVal === 'true' : sysDark.matches);
      requestAnimationFrame(() => bodyClx.remove('not-ready'));

      btnDark.addEventListener('click', () => setDark(!bodyClx.contains('dark')));
      sysDark.addEventListener('change', ({ matches }) => setDark(matches));
		</script>
</header>
